"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ts = require("typescript");
const pkg = require('../../package.json');
const tslintDisable = ' tslint:disable ';
const eslintDisable = ' eslint-disable ';
const prefaceComment = `
 * Autogenerated by @creditkarma/thrift-typescript v${pkg.version}
 * DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
`;
function generatePreface(req) {
    ts.addSyntheticLeadingComment(req, ts.SyntaxKind.MultiLineCommentTrivia, tslintDisable, true);
    ts.addSyntheticLeadingComment(req, ts.SyntaxKind.MultiLineCommentTrivia, eslintDisable, true);
    ts.addSyntheticLeadingComment(req, ts.SyntaxKind.MultiLineCommentTrivia, prefaceComment, true);
}
function print(statements, includePreface = false) {
    const printer = ts.createPrinter();
    const rawSourceFile = ts.createSourceFile('thrift.ts', '', ts.ScriptTarget.ES2015, false, ts.ScriptKind.TS);
    const bodyFile = ts.updateSourceFileNode(rawSourceFile, statements);
    if (includePreface && statements.length > 0) {
        generatePreface(statements[0]);
    }
    else {
        console.warn(`Printing empty file`);
    }
    return printer.printBundle(ts.createBundle([bodyFile]));
}
exports.print = print;
//# sourceMappingURL=printer.js.map